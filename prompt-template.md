
Prompt V29

Initial Prediction: For the next given football match using the system date, make a preliminary score prediction based on intuition, odds, or basic context. Note this prediction internally for later comparison.

Analysis Target: Focus analysis on the specific match provided. Identify Team A, Team B, and Competition/League from user input.

Iterative Analysis Loop & Dynamic Data Handling:
Follow the "Data Check" steps (Step 4) below for the targeted match.
Throughout this process, findings and the key queries used to obtain them are presented directly within the output of the relevant step. This collected information forms the basis for subsequent analysis steps. Before moving to calculations or subsequent steps, ensure the necessary preceding information has been presented.

Dynamic Gap Filling, Persistence, Verification & Revision (Multi-Source & Localized): Actively attempt to fill data gaps identified during the process by performing additional, targeted searches using multiple, diverse reputable sources (both global and local). Crucially, for Steps 4.2 and 4.3, the target is data for the LAST 10 official matches per team; persistent searching MUST be employed until this target is met or data is confirmed unobtainable. Do not proceed to the next analytical calculation or step if the required input data (e.g., L10 results, corresponding HT/FT scores, goal times for sufficient matches) for that step is marked as missing or insufficient after reasonable, exhaustive search attempts for the full 10-match set and associated details.

Targeted Searching & Methodology: Continue searching for the specific missing data points using varied, targeted queries until the data is found or confirmed as definitively unobtainable. State the key search query strings and patterns used, noting the language if localized. Examples include queries targeting individual matches and data types like '[Team A] vs [Team B] [Date] halftime score', '[Team A] match report [Date] statistics', '[Team B] goal times [Competition]', '[Team A] league position history [Season]'. Vary keywords (e.g., HT score, half-time result, goal minutes, match timeline, event log, play-by-play, position progress, historical table, match history, fixtures and results). Include queries in the team's local language targeting local news sources where applicable. Specifically for Steps 4.2/4.3, queries must be iterated and varied across multiple sources to capture the full L10 match history and associated details (results, HT/FT, goal timing/scorers).

Source Prioritization: Focus on data-rich platforms known for detailed statistics (e.g., Fotmob, Soccerway, soccer365, Sofascore, Flashscore, FBref, Transfermarkt, FootyStats, tribuna, ESPN matchcasts/timelines, SoccerPunter, WhoScored) for structured data, BUT prioritize verified news from official team communications, reputable local/regional news outlets, and known team-specific journalists for team news, injuries, and rotation information. For historical position data, prioritize sources like Transfermarkt or dedicated stats sites (e.g., Soccerstats).

Accumulation and Cross-referencing: If Source A provides partial data and Source B provides missing details plus confirms some findings, present the accumulated information. Note the source type (global/local) for context. Cross-reference granular data between sources whenever possible, especially when verifying the L10 match list and associated data points.

Acknowledge Data Gaps & Quality: Clearly state where data quality/availability is low (e.g., U23, lower tiers, debutant teams, specific data points unobtainable despite search). Explicitly state if the target of 10 matches for Steps 4.2/4.3 could not be met for either team, detailing how many were found and why further data was unobtainable (for results, HT/FT scores, and goal timing/scorers separately). Mandatorily lower confidence in related conclusions accordingly.

Handling Unknowns (e.g., Debutant Teams): If analysing a team with no official history, explicitly state this lack of data. Analysis must rely heavily on roster info, coaching, and situational factors. Assign Very Low confidence to most prediction components, acknowledge high variance, and focus on situational logic.

Dynamic Revision & Step Rewind: If newly found data (especially verified team news, confirmation of 'questionable' player status, or significant trend insights) significantly changes an assessment made in a previously completed step:

Identify the specific previous step affected by the new data.

Re-evaluate the analysis for that specific previous step incorporating the new data.

Explicitly state that a revision is occurring due to new data, referencing the original assessment if helpful for clarity.

Present the fully updated output for that affected previous step.

Return to the current step you were working on and continue the analysis, ensuring all subsequent steps use the revised information from the updated previous step.

Continuation of Steps: When continuing analysis, use the previously generated output, including any revisions, to ensure required data is present and context is maintained.

Steps:

4.1 Competition Context & Basic Data:

Objective: Gather essential match details and context.

Search Queries: Use queries targeting league standings, kickoff time, venue specifics (surface, altitude), team history/trends, odds (1X2, O/U, BTTS), and weather. State key queries used.

Analysis & Output: Present the Competition details, Kick-off Time, Venue Info (Surface, Altitude), Standings (Team A/B), relevant Season Trends (Team A/B) like title contention or relegation battles, Initial Odds (1X2, O/U, BTTS), Travel/Climate Notes, competition tier/importance, venue factors impact, significance of standing gaps, and initial market view.

4.2 Recent Form & Momentum (Last 10 Official Matches):

Objective: Assess current performance levels and trends over the target last 10 official matches.

Search Queries: Mandatory: Employ persistent and varied search queries across multiple sources (Soccerway, Flashscore, Fotmob, FBref, local sources etc.) until the results (including Date, Opponent, Score, Venue H/A) for the last 10 official matches for each team are found or confirmed definitively unavailable. Example queries: "[Team A] last 10 results Soccerway", "[Team B] form guide 10 matches Flashscore", "[Team A] match history", "[Team B] fixtures and results [Season/Year]". State key successful queries used and sources checked.

Findings, Analysis & Output: Detail L10 Overall Form (List the 10 matches found, WDL summary, GF, GA, CS%, FTS%), L10 Home Form (List relevant home matches from the L10 set, WDL, GF, GA, CS%, FTS%), L10 Away Form (List relevant away matches from the L10 set, WDL, GF, GA, CS%, FTS%). Calculate Momentum (Positive/Negative/Neutral). Explicitly state if fewer than 10 matches were found after exhaustive searching and why. Note any specific performance patterns vs certain styles if evident.

4.3 Reliability/Comeback/Choke/Timing & Scorer Analysis (Based on Last 10 Matches from 4.2):

4.3.1 HT/FT Score Retrieval:

Objective: Retrieve Half-Time (HT) and Full-Time (FT) scores specifically for EACH of the last 10 official matches identified in Step 4.2.

Mandatory Search & Query Formulation: For EACH of the 10 matches listed in 4.2, perform targeted and persistent searches across multiple reliable stats sites (e.g., Soccerway, Flashscore, Sofascore) using varied keywords until the HT and FT score is found or confirmed unavailable. Queries: '[Team A] vs [Team B] [Date] halftime score', 'Halbzeitstand [Team A] [Datum] [Gegner]', '[Team A] match report [Date] score details'. Use multiple sources for verification for each match. State key queries used and sources checked per match or overall for this step.

Limitations & Gap Filling Output: Present the verified HT/FT scores for each match from the L10 list identified in 4.2 where data was successfully retrieved. Clearly list any specific matches from the L10 set where HT scores could not be found despite persistent multi-source searches. State the sources checked/used, the confidence level based on verification, and the final usable count ('n') of matches (out of the target 10) with verified HT/FT data. Note if data is insufficient (low 'n') for robust analysis.

4.3.2 Reliability/Comeback/Choke Calculation:

Objective: Calculate metrics based on retrieved HT/FT data from the targeted L10 matches.

Methodology & Output: Based only on the matches from the L10 list (identified in 4.2) where HT/FT data was successfully retrieved and presented in 4.3.1, calculate and present the following percentages: % matches led HT and won FT (Reliability when leading), % matches trailed HT and drew/won FT (Comeback ability), % matches led HT and lost/drew FT (Choke tendency), % matches drawn HT resulting in Win/Loss/Draw. State the 'n' value (number of matches with HT/FT data out of the initial 10) these calculations are based on. If 'n' was deemed insufficient in 4.3.1 (significantly below 10), state that these calculations lack robustness or cannot be reliably performed.

4.3.3 Goal Timing (ES / ST) & Scorer Retrieval & Calculation:

Objective: Retrieve detailed goal information (timing and scorer) specifically for EACH of the last 10 official matches identified in Step 4.2, prioritizing completeness.

Mandatory Search & Query Formulation (Iterative per Match): For EACH match in the L10 list from 4.2, perform targeted and persistent searches across multiple sources known for detailed timelines/event logs (e.g., Fotmob, ESPN matchcast, Sofascore, Flashscore) using varied queries until goal timing AND scorer data are found or confirmed unavailable. Queries: 'goal times [Team A] vs [Team B] [Date]', 'Tor Minuten [Team A] Spiel [Datum]', 'match timeline [Team A] [Date]', 'play-by-play [Team B] match [Date]', '[Team A] goal scorers vs [Team B] [Date]', 'match events log [Team A] [Date]'. Refine queries if only timing or scorer is found initially, attempting to find both for each goal. Strive to obtain data for all 10 matches. State key queries used and sources consulted.

Data Points to Extract & Output: Present the list of the L10 matches where goal timing/scorer data was sought. For each match where data was successfully retrieved, list the Goal times (minute scored) and Goal Scorers. Clearly note specific matches from the L10 list where goal timing or scorer data (or both) were unobtainable despite persistent search. Note overall confidence regarding data availability/completeness for both timing and scorers across the target 10 games. Note if scorer data is notably incomplete.

Goal Timing Calculation Checkpoint & Output: Check if goal timing data was retrieved for at least 8 matches out of the target 10 (n>=8 matches with timing data found). State whether this threshold was met. Explicitly state the actual number 'n' of matches for which timing data was found (aiming for n=10).

Goal Timing Calculation (if n>=8): If the threshold (n>=8) is met, calculate and present ES% (Percentage of team's goals scored within first 30 mins) and ST% (Percentage of team's goals scored after 70th min), based on goals from matches where timing data was found. State the basis count ('n' - number of matches contributing timing data, which must be 8, 9, or 10). If n is 8 or 9, explicitly state that while the minimum threshold was met, the analysis is based on slightly incomplete timing data for the L10 period. If n<8, state that ES/ST calculation is not performed due to insufficient data coverage across the last 10 matches.

4.4 Team News, Injuries, and Rotation Assessment:

Objective: Identify absences, assess likely team strength, and evaluate impact.

Mandatory Search & Verification (Global & Local): Search using multiple query types (e.g., injury list, suspension news, pre-match press conference reports, official team site news). Supplement global searches with targeted local searches in the team's primary language. Consult predicted lineups but prioritize verified news from primary/local sources. State key queries used (global & local).

Analysis & Output: Present key personnel news (absences/returns), noting if verified and source type (local/global). Assess the nuanced impact of confirmed key absences/returns (focusing on tactical fit, compensation potential, quality of replacement, opponent context). If key players are 'Questionable', state the uncertainty, discuss scenarios, and note the impact on overall prediction confidence. Assess Likelihood and Impact of Rotation based on context (competition, priorities, opponent, travel, fixture congestion, news) and state the confidence level (High/Medium/Low) in this assessment based on source verification. Estimate Squad Depth based on league context. Present the overall impact assessment, adjusted by confidence levels.

4.5 Situational and Tactical Context Analysis:

Objective: Understand broader match context.

Analysis & Output: Present assessment of Match Importance & Motivation (considering standings/trends from 4.1). Infer Likely Tactics, adjusting based on verified/confidently expected team strength (considering revisions from 4.4), H/A status, environment (4.1), motivation, and performance vs styles (L10 Form from 4.2). State the inferred attack/defence lean. Note Fixture Congestion & Fatigue effects (incl. travel/climate from 4.1) and any relevant Managerial Context. Provide a synthesized overview.

4.6 Head-to-Head (H2H) Analysis:

Objective: Analyze recent direct encounters, assessing relevance critically.

Mandatory Search (Multi-Source & Optional Local Context): Attempt to find results for last 4-6 official H2H meetings. Verify scores using multiple global stats sources. Optionally, search local archives for context. State key queries used.

Analysis & Output: Present the verified H2H list, WDL summary, venue results, H2H O/U%, H2H BTTS%. Critically Assess Relevance & Weighting: Consider recency and context changes (form, managers, verified key absences/returns per 4.4). Explicitly state how H2H trends are weighted against Current Form (L10 from 4.2, especially venue-specific form from 4.2/4.9) and justify the weighting. Acknowledge if H2H strongly contradicts other analyses and explain how confidence is adjusted.

4.7 Betting Odds Comparison & Market Check:

Objective: Compare analysis with market view, identify potential value.

Analysis & Output: Retrieve and present 1X2, O/U 2.5, and BTTS odds. Compare Analysis vs. Odds: State whether the analysis (synthesizing L10 Form, Context, News Impact revised by 4.4, Relevant H2H weighted by 4.6, H/A Synthesis from 4.9) aligns with market odds. Discuss discrepancies, noting if odds seem to reflect verified impacts or just base status/L10 form. Highlight potential value, especially if analysis strongly contradicts market views on BTTS or O/U.

4.8 Weather Forecast Integration:

Objective: Assess weather impact.

Mandatory Search: Find venue/kick-off time forecast. State key query used.

Analysis & Output: Note significant conditions (rain, wind, heat, cold) and their likely impact on gameplay (e.g., passing, ball control, pace, goal likelihood), linking to environmental factors from 4.1.

4.9 Home/Away Strength Synthesis:

Objective: Focused view of home/away dynamic including context.

Analysis & Output: Compare season H/A records (4.1) vs recent L10 H/A form (4.2), including scoring/conceding patterns. Integrate relevant venue H2H results (4.6). Overlay the nuanced impact of verified/confidently expected rotation/absences (considering revisions from 4.4) on each team's likely attack and defence. Factor in travel/climate/altitude impact & mitigation potential (4.1, 4.8). Present a synthesized summary of the expected H/A dynamic, including goal likelihood for/against each team based on this integrated view.

Final Prediction: Based on the comprehensive analysis presented step-by-step above (including any revisions):

5.1 Dynamic Weighting of Factors: Before synthesizing, explicitly state the key factors being given the most weight for this specific match prediction (e.g., recent L10 form, verified team news impact, H2H relevance, home advantage, motivation) and explain why based on the analysis presented in Step 4 (competition, stage, team situations, data verification/confidence levels, identified revisions).

5.2 Synthesize Key Findings & Arguments: List the strongest arguments for each potential outcome, referencing key data points and analysis from Step 4 (L10 Form/Momentum, News Impact, H2H relevance assessment, H/A Synthesis, Motivation, Tactical matchup). State how conflicting data points (identified during the analysis and potentially leading to revisions) were weighed and resolved based on the dynamic weighting logic and confidence assessments.

5.3 Identify Plausible Scenarios: Outline 2-3 likely match narratives based on the weighted synthesis, considering confidence levels from the analysis and potential impacts of remaining uncertainties (e.g., 'questionable' player status).

5.4 Evaluate Primary Outcome (Considering Double Chance First): Identify the team favoured by the weighted synthesis ('Team Fav'). If no clear favourite emerges or arguments are balanced (considering revisions), state this and proceed directly to considering the Draw. If 'Team Fav' is identified: Consider the Double Chance (Win/Draw for Team Fav) as a baseline conservative prediction. Critically assess factors specifically favouring a Draw (referencing analysis). Determine the Primary Outcome (Draw, or reinforced Team Fav DC/Win) based on this Draw Check. If no 'Team Fav' was initially identified, state Draw as the primary prediction. Present the derived Primary Outcome.

5.5 Confidence Assessment & Market Check (Outcome): Reiterate significant market contradictions identified in 4.7 and the rationale for agreeing or disagreeing. State the Confidence Level (High/Medium/Low/Very Low) for the Primary Outcome. Justify this confidence level critically based on the consistency and strength of evidence across key weighted factors (including L10 form assessment), the impact of any revisions made, the resolution of conflicting signals, data quality/gaps (especially if L10 data was incomplete), and uncertainty levels (e.g., player status). Mandatorily lower confidence if significant conflicting signals persist, key player status is highly uncertain, essential data quality was poor (e.g., failure to retrieve full L10 data), or analysis strongly contradicts the market without compelling evidence. If the Primary Outcome is a Win but confidence is Medium/Low/Very Low, reiterate the corresponding Double Chance as a safer alternative recommendation.

5.6 (Optional) Acknowledge Secondary Scenarios: Briefly mention the less likely but plausible scenarios identified in 5.3.

5.7 Predict Both Teams To Score (BTTS - Yes/No): Synthesize arguments for and against BTTS, referencing relevant factors from Step 4 (attacking/defensive L10 form, individual team ES/ST% if calculated, H2H BTTS%, tactical setups, impact of absences/rotations on attack/defence). Address conflicting signals directly. Avoid assuming BTTS No with high confidence unless attacking metrics are extremely poor and opponent defence is demonstrably elite based on analysis. State the BTTS Prediction (Yes / No). State the BTTS Confidence Level (High/Medium/Low) and justify it rigorously based on consistency of signals and potential for variance.

5.8 Predict Total Goals (Over/Under 2.5): Synthesize arguments for O/U 2.5, referencing relevant factors (L10 GF/GA form, H2H O/U%, tactical intent, weather, ES/ST% if calculated, potential game state influence). Address conflicting signals (e.g., Market/H2H vs BTTS prediction). State the O/U Prediction (Over 2.5 / Under 2.5). State the O/U Confidence Level (High/Medium/Low) and justify it rigorously based on consistency across factors and potential impact of game dynamics.

5.9 Formulate Most Robust Combined Prediction: Present the combination of Outcome (using DC if confidence is low/very low), BTTS, and O/U that is most consistent with the analysis and confidence levels assessed in 5.4-5.8.

5.10 Scoreline(s) (Contextual): Suggest one or two specific scorelines that align logically with the determined Primary Outcome (or DC baseline), the BTTS prediction, and the O/U prediction. Justify briefly using relevant factors (e.g., expected goal difference based on L10 analysis, likelihood of clean sheets based on analysis) and ensure consistency with the combined prediction from 5.9.

5.11 Justification: Provide a concise final rationale. Weave together the key arguments supporting the prediction, reference the dynamic weighting logic (5.1, ensuring L10 form is considered appropriately), explain how conflicting data and revisions were handled, summarize the nuanced assessment of key absence impacts (4.4), explain the outcome derivation logic (5.4), rigorously justify the confidence levels assigned (5.5, 5.7, 5.8), state the assessed H2H relevance (4.6), acknowledge any significant data gaps or quality issues (specifically commenting on the success/failure of retrieving the full L10 data set) and their impact (assigning Very Low confidence where necessary), mention the odds check (4.7), and provide the reasoning for the suggested scoreline(s) (5.10). Ensure the justification reflects the step-by-step analysis (now based on L10 form where applicable) and any dynamic updates made.
